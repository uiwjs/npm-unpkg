{"version":3,"sources":["pages/Preview/DirectoryTrees.module.less","pages/Preview/Content.module.less","pages/Preview/index.module.less","pages/Preview/DirectoryTrees.tsx","pages/Preview/Content.tsx","pages/Preview/index.tsx","components/Search.tsx","components/Search.module.less"],"names":["module","exports","prettyBytes","num","precision","addSpace","UNITS","Math","abs","exponent","min","floor","log10","length","n","Number","toPrecision","MeunItemView","props","useMemo","Item","tagName","NavLink","title","filepath","to","path","addonAfter","color","size","className","styles","tags","icon","text","replace","DirectoryTrees","useSelector","global","loading","effects","getDirectoryTrees","files","pkgname","style","width","theme","bordered","renderMenuItem","data","menuItems","forEach","item","idx","type","push","SubMenu","filename","getFileContent","content","extname","contentView","ext","padding","source","npmPkgName","pkg","JSON","parse","name","version","devDependencies","Object","keys","key","dependencies","error","rehypePlugins","rehypeRewrite","node","index","parent","test","value","includes","children","properties","href","code","loader","Header","Layout","Content","Preview","notFindPkg","package","showSearch","Info","dispatch","useDispatch","params","useParams","urlPkgName","org","useEffect","setPkgname","getPackageJSON","document","nameView","onClick","update","fontSize","header","isOpen","useButton","onConfirm","console","log","onCancel","onClosed","Search","target","homepage","repository","url","license","description","warpper","height","minWidth","overflow","backgroundColor","flex","position","useState","setValue","label","links","input","preIcon","onChange","e","history","basic","placeholder","egLink","map","persist","preventDefault"],"mappings":"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","file":"static/js/3.2ea7d862.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"tags\":\"DirectoryTrees_tags__2C7q_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"code\":\"Content_code__2BDSE\",\"loader\":\"Content_loader__v-POL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"warpper\":\"index_warpper__1T8JF\",\"header\":\"index_header__3hMT2\"};","import React, { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport Menu from '@uiw/react-menu';\nimport Tag from '@uiw/react-tag';\nimport Loader from '@uiw/react-loader';\nimport { NavLink } from 'react-router-dom';\nimport { RootState } from '../../models';\nimport { Files } from '../../models/global';\nimport styles from './DirectoryTrees.module.less';\n\nconst prettyBytes = (num: number, precision = 3, addSpace = true) => {\n  const UNITS = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n  if (Math.abs(num) < 1) return num + (addSpace ? ' ' : '') + UNITS[0];\n  const exponent = Math.min(Math.floor(Math.log10(num < 0 ? -num : num) / 3), UNITS.length - 1);\n  const n = Number(((num < 0 ? -num : num) / 1000 ** exponent).toPrecision(precision));\n  return (num < 0 ? '-' : '') + n + (addSpace ? ' ' : '') + UNITS[exponent];\n};\n\nfunction MeunItemView(props: { path?: string, filepath?: string; size?: number } = {}) {\n  return useMemo(() => (\n    <Menu.Item\n      tagName={NavLink}\n      title={props.filepath}\n      to={`/pkg/${props.path}`}\n      addonAfter={\n        <Tag color=\"#e0e0e0\" title={(props.size && prettyBytes(props.size)) || ''} className={styles.tags} />\n      }\n      icon=\"file-text\"\n      text={props.filepath!.replace(/^\\//, '')}\n    />\n  ), [props.path, props.size, props.filepath]);\n}\n\nexport default function DirectoryTrees() {\n  const { loading, files, pkgname } = useSelector(({ global, loading }: RootState) => ({\n    loading: loading.effects.global.getDirectoryTrees,\n    files: global.files,\n    pkgname: global.pkgname,\n  }));\n\n  function renderMenuItem(data: Files[] = [], menuItems: any = []) {\n    data.forEach((item, idx) => {\n      if (item.type === 'directory') {\n        menuItems.push(\n          <Menu.SubMenu key={idx} icon=\"folder\" text={item.path.replace(/^\\//, '')} >\n            {renderMenuItem(item.files)}\n          </Menu.SubMenu>\n        );\n      } else if (item.type === 'file') {\n        const filename = item.path.replace(/(.+?)\\//g, '');\n        menuItems.push(\n          <MeunItemView key={idx} path={`${pkgname}/file${item.path}`} filepath={filename} size={item.size} />\n        );\n      }\n    });\n    return menuItems;\n  }\n  return (\n    <Loader loading={loading} style={{ width: '100%'}}>\n      <Menu theme=\"light\" bordered={false}>\n        {renderMenuItem(files)}\n      </Menu>\n    </Loader>\n  );\n}\n","import { useMemo, Fragment } from 'react';\nimport { useSelector } from 'react-redux';\nimport Loader from '@uiw/react-loader';\nimport rehypeRewrite from 'rehype-rewrite';\nimport { Parent, NodeData } from 'unist';\nimport MarkdownPreview from '@uiw/react-markdown-preview';\nimport { RootState } from '../../models';\nimport styles from './Content.module.less';\n\nexport default function DirectoryTrees() {\n  const { loading, content, extname } = useSelector(({ global, loading }: RootState) => ({\n    loading: loading.effects.global.getFileContent,\n    content: global.content,\n    extname: global.extname,\n    global,\n  }));\n  const contentView = useMemo(() => {\n    let ext = extname;\n    switch (extname) {\n      case 'tsx': ext = 'typescript'; break;\n      case 'ts': ext = 'typescript'; break;\n      case 'map': ext = 'json'; break;\n      case 'markdown': ext = 'md'; break;\n      default: break;\n    }\n    if (!content) return <Fragment />\n    if (extname === 'md') {\n      return <MarkdownPreview style={{ padding: 25 }} source={content || ''} />\n    }\n    if (extname === 'json') {\n      const npmPkgName: string[] = []\n      try {\n        const pkg = JSON.parse(content || '{}')\n        if (pkg.name && pkg.version) {\n          if (pkg.devDependencies && Object.keys(pkg.devDependencies).length > 0) {\n            Object.keys(pkg.devDependencies).forEach(key => npmPkgName.push(key))\n          }\n          if (pkg.dependencies && Object.keys(pkg.dependencies).length > 0) {\n            Object.keys(pkg.dependencies).forEach(key => npmPkgName.push(key))\n          }\n        }\n      } catch (error) { }\n      return (\n        <MarkdownPreview\n          rehypePlugins={[[rehypeRewrite, ((node: NodeData<Parent>, index: number, parent: NodeData<Parent>) => {\n            if (\n              node.type as any === 'text'\n              && /\"([\\s\\S]*?)(\\s.+)?\"/.test(node.value as string)\n              && npmPkgName.includes((node.value as string).replace(/\"/g, ''))\n            ) {\n              parent.children = [{\n                type: 'element' as any,\n                tagName: 'span',\n                properties: {},\n                children: [\n                  {\n                    type: 'element' as any,\n                    tagName: 'a',\n                    properties: {\n                      href: `#/pkg/${(node.value as string).replace(/\"/g, '')}`,\n                      style: {\n                        color: '#0080ff',\n                        'text-decoration': 'underline'\n                      }\n                    },\n                    children: [\n                      {type: 'text', value: node.value}\n                    ]\n                  }\n                ]\n              }]\n            }\n          })]]}\n          className={styles.code} source={`\\`\\`\\`${ext}\\n${content}\\n\\`\\`\\``}\n        />\n      )\n    }\n    if (extname) {\n      return <MarkdownPreview className={styles.code} source={`\\`\\`\\`${ext}\\n${content}\\n\\`\\`\\``} />\n    }\n    return <pre style={{ padding: 25 }}>{content}</pre>;\n  }, [extname, content]);\n  return (\n    <Fragment>\n      <Loader loading={loading} className={styles.loader}>\n        {contentView}\n      </Loader>\n    </Fragment>\n  );\n}\n\n// export default connect(mapState, mapDispatch)(DirectoryTrees);","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, Fragment, useMemo } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Divider from '@uiw/react-divider';\nimport Layout from '@uiw/react-layout';\nimport Button from '@uiw/react-button';\nimport Split from '@uiw/react-split';\nimport Modal from '@uiw/react-modal';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { DefaultProps } from '@uiw-admin/router-control';\nimport DirectoryTrees from './DirectoryTrees';\nimport ContentView from './Content';\nimport Search from '../../components/Search';\nimport { Params } from '../../models/global';\nimport { RootState, Dispatch } from '../../models';\nimport { PackageJSON } from '../../models/global';\nimport styles from './index.module.less';\n\nconst { Header, Content } = Layout;\n\nexport default function Preview(props = {} as DefaultProps) {\n  const { showSearch, notFindPkg, package: Info, pkgname } = useSelector(({ global, loading }: RootState) => ({\n    loading: loading.effects.global.getDirectoryTrees,\n    pkgname: global.pkgname,\n    notFindPkg: global.notFindPkg,\n    package: (global.package || {}) as PackageJSON,\n    showSearch: global.showSearch,\n  }));\n\n  const dispatch = useDispatch<Dispatch>();\n\n  const params = useParams<Params>();\n  const urlPkgName = `${params.org ? `${params.org}/` : ''}${params.name}`;\n  useEffect(() => {\n    if (!pkgname || urlPkgName !== pkgname) {\n      dispatch.global.setPkgname(params);\n      dispatch.global.getDirectoryTrees();\n      dispatch.global.getPackageJSON();\n    }\n  }, [pkgname, urlPkgName, pkgname]);\n  useEffect(() => {\n    document.title = `${params.org ? `${params.org}/` : ''}${params.name} - NPM UNPKG`;\n  }, [params.org, params.name]);\n  useEffect(() => {\n    dispatch.global.getFileContent(params.filename);\n  }, [params.filename]);\n  const nameView = useMemo(() => (\n    <Button size=\"small\" type=\"link\" onClick={() => dispatch.global.update({ showSearch: true })} style={{ fontSize: 21 }}>\n      {Info && Info.name ? `${Info.name}@${Info.version}` : urlPkgName}\n    </Button>\n  ), [Info.name, Info.version, params.org]);\n  return (\n    <Layout>\n      <Header className={styles.header}>\n        <Modal\n          title=\"Select package\"\n          isOpen={showSearch}\n          icon=\"information\"\n          type=\"primary\"\n          useButton={false}\n          onConfirm={() => console.log('您点击了确定按钮！')}\n          onCancel={() => console.log('您点击了取消按钮！')}\n          onClosed={() => dispatch.global.update({ showSearch: false })}\n        >\n          <Search {...props} />\n        </Modal>\n        {nameView}\n        {Info.name && (\n          <Fragment>\n            <Divider type=\"vertical\" />\n            <a href={`https://www.npmjs.com/package/${Info.name}/v/${Info.version}`} target=\"__blank\">npm</a>\n            {Info.homepage && (\n              <Fragment>\n                <Divider type=\"vertical\" />\n                <a href={Info.homepage} target=\"__blank\">homepage</a>\n              </Fragment>\n            )}\n            {Info.repository && (\n              <Fragment>\n                <Divider type=\"vertical\" />\n                <a href={typeof Info.repository === 'string' ? Info.repository : (Info.repository.url || '')} target=\"__blank\">repository</a>\n              </Fragment>\n            )}\n            {Info.license && (\n              <Fragment>\n                <Divider type=\"vertical\" />\n                <span>{Info.license}</span>\n              </Fragment>\n            )}\n            {Info.description && (\n              <Fragment>\n                <Divider type=\"vertical\" />\n                <span title={Info.description}>{Info.description}</span>\n              </Fragment>\n            )}\n          </Fragment>\n        )}\n        {notFindPkg && (\n          <Fragment>\n            <Divider type=\"vertical\" />\n            <span>Cannot find package {urlPkgName}.</span>\n          </Fragment>\n        )}\n      </Header>\n      <Layout className={styles.warpper}>\n        <Split className={styles.warpper} style={{ height: 100 }}>\n          <div style={{ minWidth: 210, width: 210, overflow: 'auto', backgroundColor: '#fff' }}>\n            <DirectoryTrees />\n          </div>\n          <Content style={{ minWidth: 100, flex: 1, overflow: 'auto', position: 'relative' }}>\n            <ContentView />\n          </Content>\n        </Split>\n      </Layout>\n    </Layout>\n  );\n}\n","import React, {useState, Fragment} from 'react';\nimport Input from '@uiw/react-input';\nimport Button from '@uiw/react-button';\nimport { useDispatch } from 'react-redux';\nimport { DefaultProps } from '@uiw-admin/router-control';\nimport { Dispatch } from '../models';\nimport { Link }from 'react-router-dom';\nimport styles from './Search.module.less';\n\nexport default function Search(props = {} as DefaultProps) {\n  const dispatch = useDispatch<Dispatch>();\n  const [value, setValue] = useState<string>();\n  const [links] = useState<{to: string, label: string}[]>([\n    {\n      to: '/pkg/uiw',\n      label: 'uiw'\n    },\n    {\n      to: '/pkg/vue',\n      label: 'vue'\n    },\n    {\n      to: '/pkg/react',\n      label: 'react'\n    },\n    {\n      to: '/pkg/react@17',\n      label: 'react@17'\n    },\n    {\n      to: '/pkg/react@17.0.1',\n      label: 'react@17.0.1'\n    },\n  ]);\n  return (\n    <Fragment>\n      <Input\n        className={styles.input}\n        size=\"large\"\n        preIcon=\"search\"\n        onChange={(e) => {\n          setValue(e.target.value);\n        }}\n        addonAfter={\n          <Button onClick={() => {\n            if (value) {\n              dispatch.global.update({ showSearch: false });\n              props.history.push(`/pkg/${value}`);\n            }\n          }} icon=\"arrow-right\" size=\"small\" basic type=\"light\" />\n        }\n        placeholder=\"package or package@version\"\n      />\n      <div className={styles.egLink}>\n        <span>E.g.</span>\n        {links.map((item, index) => {\n          return (\n            <Link\n              key={index}\n              to={item.to}\n              onClick={(e) => {\n                e.persist();\n                e.preventDefault();\n                dispatch.global.update({ showSearch: false });\n                props.history.push(item.to);\n              }}\n            >\n              {item.label}\n            </Link>\n          )\n        })}\n      </div>\n    </Fragment>\n  );\n}\n\n// const searchView = connect(mapState, mapDispatch)(Search);\n// type SearchView = typeof Search;\n// export default searchView as SearchView;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Search_input__2SGdB\",\"egLink\":\"Search_egLink__WQ6Jl\"};"],"sourceRoot":""}