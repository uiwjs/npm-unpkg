{"version":3,"sources":["pages/Preview/DirectoryTrees.module.less","pages/Preview/Content.module.less","pages/Preview/index.module.less","pages/Preview/DirectoryTrees.tsx","pages/Preview/Content.tsx","pages/Preview/npm.svg","pages/Preview/github.svg","pages/Preview/index.tsx","components/Search.tsx","components/Search.module.less"],"names":["module","exports","prettyBytes","num","precision","addSpace","UNITS","Math","abs","exponent","min","floor","log10","length","n","Number","toPrecision","MeunItemView","props","useMemo","Item","tagName","NavLink","title","filepath","to","path","addonAfter","color","size","className","styles","tags","icon","text","replace","DirectoryTrees","useSelector","global","loading","effects","getDirectoryTrees","files","pkgname","style","width","theme","bordered","renderMenuItem","data","menuItems","forEach","item","idx","type","push","SubMenu","filename","getFileContent","content","extname","contentView","ext","padding","source","npmPkgName","pkg","JSON","parse","name","version","devDependencies","Object","keys","key","dependencies","error","rehypePlugins","rehypeRewrite","node","index","parent","test","value","includes","children","properties","href","code","loader","_g","_excluded","_extends","assign","target","i","arguments","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgNpm","_ref","svgRef","titleId","height","xmlns","ref","id","fill","d","_path","ForwardRef","SvgGithub","viewBox","Header","Layout","Content","Preview","notFindPkg","package","showSearch","Info","dispatch","useDispatch","params","useParams","urlPkgName","org","useEffect","setPkgname","getPackageJSON","document","nameView","onClick","update","fontSize","header","isOpen","useButton","onConfirm","console","log","onCancel","onClosed","Search","repository","url","github","xlinkTitle","homepage","license","description","warpper","minWidth","overflow","backgroundColor","flex","position","useState","setValue","label","links","input","preIcon","onChange","e","history","basic","placeholder","egLink","map","persist","preventDefault"],"mappings":"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","file":"static/js/3.a4ef4180.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"tags\":\"DirectoryTrees_tags__2C7q_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"code\":\"Content_code__2BDSE\",\"loader\":\"Content_loader__v-POL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"warpper\":\"index_warpper__1T8JF\",\"header\":\"index_header__3hMT2\",\"github\":\"index_github__1mP6L\"};","import React, { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport Menu from '@uiw/react-menu';\nimport Tag from '@uiw/react-tag';\nimport Loader from '@uiw/react-loader';\nimport { NavLink } from 'react-router-dom';\nimport { RootState } from '../../models';\nimport { Files } from '../../models/global';\nimport styles from './DirectoryTrees.module.less';\n\nconst prettyBytes = (num: number, precision = 3, addSpace = true) => {\n  const UNITS = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n  if (Math.abs(num) < 1) return num + (addSpace ? ' ' : '') + UNITS[0];\n  const exponent = Math.min(Math.floor(Math.log10(num < 0 ? -num : num) / 3), UNITS.length - 1);\n  const n = Number(((num < 0 ? -num : num) / 1000 ** exponent).toPrecision(precision));\n  return (num < 0 ? '-' : '') + n + (addSpace ? ' ' : '') + UNITS[exponent];\n};\n\nfunction MeunItemView(props: { path?: string, filepath?: string; size?: number } = {}) {\n  return useMemo(() => (\n    <Menu.Item\n      tagName={NavLink}\n      title={props.filepath}\n      to={`/pkg/${props.path}`}\n      addonAfter={\n        <Tag color=\"#e0e0e0\" title={(props.size && prettyBytes(props.size)) || ''} className={styles.tags} />\n      }\n      icon=\"file-text\"\n      text={props.filepath!.replace(/^\\//, '')}\n    />\n  ), [props.path, props.size, props.filepath]);\n}\n\nexport default function DirectoryTrees() {\n  const { loading, files, pkgname } = useSelector(({ global, loading }: RootState) => ({\n    loading: loading.effects.global.getDirectoryTrees,\n    files: global.files,\n    pkgname: global.pkgname,\n  }));\n\n  function renderMenuItem(data: Files[] = [], menuItems: any = []) {\n    data.forEach((item, idx) => {\n      if (item.type === 'directory') {\n        menuItems.push(\n          <Menu.SubMenu key={idx} icon=\"folder\" text={item.path.replace(/^\\//, '')} >\n            {renderMenuItem(item.files)}\n          </Menu.SubMenu>\n        );\n      } else if (item.type === 'file') {\n        const filename = item.path.replace(/(.+?)\\//g, '');\n        menuItems.push(\n          <MeunItemView key={idx} path={`${pkgname}/file${item.path}`} filepath={filename} size={item.size} />\n        );\n      }\n    });\n    return menuItems;\n  }\n  return (\n    <Loader loading={loading} style={{ width: '100%'}}>\n      <Menu theme=\"light\" bordered={false}>\n        {renderMenuItem(files)}\n      </Menu>\n    </Loader>\n  );\n}\n","import { useMemo, Fragment } from 'react';\nimport { useSelector } from 'react-redux';\nimport Loader from '@uiw/react-loader';\nimport rehypeRewrite from 'rehype-rewrite';\nimport { Parent, NodeData } from 'unist';\nimport MarkdownPreview from '@uiw/react-markdown-preview';\nimport { RootState } from '../../models';\nimport styles from './Content.module.less';\n\nexport default function DirectoryTrees() {\n  const { loading, content, extname } = useSelector(({ global, loading }: RootState) => ({\n    loading: loading.effects.global.getFileContent,\n    content: global.content,\n    extname: global.extname,\n    global,\n  }));\n  const contentView = useMemo(() => {\n    let ext = extname;\n    switch (extname) {\n      case 'tsx': ext = 'typescript'; break;\n      case 'ts': ext = 'typescript'; break;\n      case 'map': ext = 'json'; break;\n      case 'markdown': ext = 'md'; break;\n      default: break;\n    }\n    if (!content) return <Fragment />\n    if (extname === 'md') {\n      return <MarkdownPreview style={{ padding: 25 }} source={content || ''} />\n    }\n    if (extname === 'json') {\n      const npmPkgName: string[] = []\n      try {\n        const pkg = JSON.parse(content || '{}')\n        if (pkg.name && pkg.version) {\n          if (pkg.devDependencies && Object.keys(pkg.devDependencies).length > 0) {\n            Object.keys(pkg.devDependencies).forEach(key => npmPkgName.push(key))\n          }\n          if (pkg.dependencies && Object.keys(pkg.dependencies).length > 0) {\n            Object.keys(pkg.dependencies).forEach(key => npmPkgName.push(key))\n          }\n        }\n      } catch (error) { }\n      return (\n        <MarkdownPreview\n          rehypePlugins={[[rehypeRewrite, ((node: NodeData<Parent>, index: number, parent: NodeData<Parent>) => {\n            if (\n              node.type as any === 'text'\n              && /\"([\\s\\S]*?)(\\s.+)?\"/.test(node.value as string)\n              && npmPkgName.includes((node.value as string).replace(/\"/g, ''))\n            ) {\n              parent.children = [{\n                type: 'element' as any,\n                tagName: 'span',\n                properties: {},\n                children: [\n                  {\n                    type: 'element' as any,\n                    tagName: 'a',\n                    properties: {\n                      href: `#/pkg/${(node.value as string).replace(/\"/g, '')}`,\n                      style: {\n                        color: '#0080ff',\n                        'text-decoration': 'underline'\n                      }\n                    },\n                    children: [\n                      {type: 'text', value: node.value}\n                    ]\n                  }\n                ]\n              }]\n            }\n          })]]}\n          className={styles.code} source={`\\`\\`\\`${ext}\\n${content}\\n\\`\\`\\``}\n        />\n      )\n    }\n    if (extname) {\n      return <MarkdownPreview className={styles.code} source={`\\`\\`\\`${ext}\\n${content}\\n\\`\\`\\``} />\n    }\n    return <pre style={{ padding: 25 }}>{content}</pre>;\n  }, [extname, content]);\n  return (\n    <Fragment>\n      <Loader loading={loading} className={styles.loader}>\n        {contentView}\n      </Loader>\n    </Fragment>\n  );\n}\n\n// export default connect(mapState, mapDispatch)(DirectoryTrees);","var _g;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNpm(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 31,\n    height: 13,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    fill: \"currentColor\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 .43v10.33h8.61v1.73h6.89v-1.73H31V.43H0zm8.61 8.6H6.89V3.88H5.17v5.17H1.72v-6.9h6.89v6.89zm5.17 0v1.73h-3.45v-8.6h6.9v6.88h-3.45zm15.5 0h-1.72V3.88h-1.73v5.17h-1.72V3.87h-1.72v5.17h-3.45V2.15h10.34v6.89z\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M13.78 3.88h1.72v3.44h-1.72z\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNpm);\nexport default __webpack_public_path__ + \"static/media/npm.597c2801.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGithub(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 33 33\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M16.6.46C7.6.46.33 7.76.33 16.76c0 7.17 4.67 13.3 11.14 15.43.8.1 1.1-.4 1.1-.8v-2.8c-4.54.9-5.5-2.2-5.5-2.2-.74-1.9-1.8-2.4-1.8-2.4-1.48-1 .1-1 .1-1 1.64.1 2.5 1.7 2.5 1.7 1.45 2.4 3.8 1.7 4.74 1.3.2-1.1.6-1.8 1.1-2.2-3.6-.4-7.4-1.8-7.4-8.1 0-1.8.7-3.28 1.7-4.4-.1-.4-.7-2.1.2-4.3 0 0 1.4-.48 4.5 1.63 1.3-.36 2.7-.54 4.1-.55 1.4 0 2.8.2 4.1.57 3.1-2.1 4.48-1.7 4.48-1.7.9 2.24.33 3.9.17 4.3 1 1.2 1.6 2.64 1.6 4.44 0 6.23-3.8 7.6-7.43 8 .6.5 1.1 1.5 1.1 3.04v4.47c0 .43.27.94 1.1.8 6.45-2.1 11.1-8.2 11.1-15.4 0-9-7.3-16.3-16.3-16.3\",\n    fill: \"currentColor\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGithub);\nexport default __webpack_public_path__ + \"static/media/github.6591b09a.svg\";\nexport { ForwardRef as ReactComponent };","/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useEffect, Fragment, useMemo } from 'react';\nimport { useParams } from 'react-router-dom';\nimport Divider from '@uiw/react-divider';\nimport Layout from '@uiw/react-layout';\nimport Button from '@uiw/react-button';\nimport Split from '@uiw/react-split';\nimport Modal from '@uiw/react-modal';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { DefaultProps } from '@uiw-admin/router-control';\nimport DirectoryTrees from './DirectoryTrees';\nimport ContentView from './Content';\nimport Search from '../../components/Search';\nimport { Params } from '../../models/global';\nimport { RootState, Dispatch } from '../../models';\nimport { PackageJSON } from '../../models/global';\nimport { ReactComponent as NPM } from './npm.svg';\nimport { ReactComponent as Github } from './github.svg';\nimport styles from './index.module.less';\n\nconst { Header, Content } = Layout;\n\nexport default function Preview(props = {} as DefaultProps) {\n  const { showSearch, notFindPkg, package: Info, pkgname } = useSelector(({ global, loading }: RootState) => ({\n    loading: loading.effects.global.getDirectoryTrees,\n    pkgname: global.pkgname,\n    notFindPkg: global.notFindPkg,\n    package: (global.package || {}) as PackageJSON,\n    showSearch: global.showSearch,\n  }));\n\n  const dispatch = useDispatch<Dispatch>();\n  const params = useParams<Params>();\n  const urlPkgName = `${params.org ? `${params.org}/` : ''}${params.name}`;\n  useEffect(() => {\n    if (!pkgname || urlPkgName !== pkgname) {\n      dispatch.global.setPkgname(params);\n      dispatch.global.getDirectoryTrees();\n      dispatch.global.getPackageJSON();\n    }\n  }, [pkgname, urlPkgName, pkgname]);\n  useEffect(() => {\n    document.title = `${params.org ? `${params.org}/` : ''}${params.name} - NPM UNPKG`;\n  }, [params.org, params.name]);\n  useEffect(() => {\n    dispatch.global.getFileContent(params.filename);\n  }, [params.filename]);\n  const nameView = useMemo(() => (\n    <Button size=\"small\" type=\"link\" onClick={() => dispatch.global.update({ showSearch: true })} style={{ fontSize: 21 }}>\n      {Info && Info.name ? `${Info.name}@${Info.version}` : urlPkgName}\n    </Button>\n  ), [Info.name, Info.version, params.org]);\n  return (\n    <Layout>\n      <Header className={styles.header}>\n        <Modal\n          title=\"Select package\"\n          isOpen={showSearch}\n          icon=\"information\"\n          type=\"primary\"\n          useButton={false}\n          onConfirm={() => console.log('您点击了确定按钮！')}\n          onCancel={() => console.log('您点击了取消按钮！')}\n          onClosed={() => dispatch.global.update({ showSearch: false })}\n        >\n          <Search {...props} />\n        </Modal>\n        {nameView}\n        {Info.name && (\n          <Fragment>\n            <Divider type=\"vertical\" />\n            <a href={`https://www.npmjs.com/package/${Info.name}/v/${Info.version}`} target=\"__blank\">\n              <NPM />\n            </a>\n            {Info.repository && (\n              <Fragment>\n                <Divider type=\"vertical\" />\n                <a\n                  href={(typeof Info.repository === 'string' ? Info.repository : (Info.repository.url || '')).replace(/^git\\+?/, '')}\n                  className={styles.github}\n                  target=\"__blank\"\n                >\n                  <Github xlinkTitle=\"repository\" />\n                </a>\n              </Fragment>\n            )}\n            {Info.homepage && (\n              <Fragment>\n                <Divider type=\"vertical\" />\n                <a href={Info.homepage} target=\"__blank\">homepage</a>\n              </Fragment>\n            )}\n            {Info.license && (\n              <Fragment>\n                <Divider type=\"vertical\" />\n                <span>{Info.license}</span>\n              </Fragment>\n            )}\n            {Info.description && (\n              <Fragment>\n                <Divider type=\"vertical\" />\n                <span title={Info.description}>{Info.description}</span>\n              </Fragment>\n            )}\n          </Fragment>\n        )}\n        {notFindPkg && (\n          <Fragment>\n            <Divider type=\"vertical\" />\n            <span>Cannot find package {urlPkgName}.</span>\n          </Fragment>\n        )}\n      </Header>\n      <Layout className={styles.warpper}>\n        <Split className={styles.warpper} style={{ height: 100 }}>\n          <div style={{ minWidth: 210, width: 210, overflow: 'auto', backgroundColor: '#fff' }}>\n            <DirectoryTrees />\n          </div>\n          <Content style={{ minWidth: 100, flex: 1, overflow: 'auto', position: 'relative' }}>\n            <ContentView />\n          </Content>\n        </Split>\n      </Layout>\n    </Layout>\n  );\n}\n","import React, {useState, Fragment} from 'react';\nimport Input from '@uiw/react-input';\nimport Button from '@uiw/react-button';\nimport { useDispatch } from 'react-redux';\nimport { DefaultProps } from '@uiw-admin/router-control';\nimport { Dispatch } from '../models';\nimport { Link }from 'react-router-dom';\nimport styles from './Search.module.less';\n\nexport default function Search(props = {} as DefaultProps) {\n  const dispatch = useDispatch<Dispatch>();\n  const [value, setValue] = useState<string>();\n  const [links] = useState<{to: string, label: string}[]>([\n    {\n      to: '/pkg/uiw',\n      label: 'uiw'\n    },\n    {\n      to: '/pkg/vue',\n      label: 'vue'\n    },\n    {\n      to: '/pkg/react',\n      label: 'react'\n    },\n    {\n      to: '/pkg/react@17',\n      label: 'react@17'\n    },\n    {\n      to: '/pkg/react@17.0.1',\n      label: 'react@17.0.1'\n    },\n  ]);\n  return (\n    <Fragment>\n      <Input\n        className={styles.input}\n        size=\"large\"\n        preIcon=\"search\"\n        onChange={(e) => {\n          setValue(e.target.value);\n        }}\n        addonAfter={\n          <Button onClick={() => {\n            if (value) {\n              dispatch.global.update({ showSearch: false });\n              props.history.push(`/pkg/${value}`);\n            }\n          }} icon=\"arrow-right\" size=\"small\" basic type=\"light\" />\n        }\n        placeholder=\"package or package@version\"\n      />\n      <div className={styles.egLink}>\n        <span>E.g.</span>\n        {links.map((item, index) => {\n          return (\n            <Link\n              key={index}\n              to={item.to}\n              onClick={(e) => {\n                e.persist();\n                e.preventDefault();\n                dispatch.global.update({ showSearch: false });\n                props.history.push(item.to);\n              }}\n            >\n              {item.label}\n            </Link>\n          )\n        })}\n      </div>\n    </Fragment>\n  );\n}\n\n// const searchView = connect(mapState, mapDispatch)(Search);\n// type SearchView = typeof Search;\n// export default searchView as SearchView;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Search_input__2SGdB\",\"egLink\":\"Search_egLink__WQ6Jl\"};"],"sourceRoot":""}